<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>控制台</title>
    <link href="css/bootstrap.css" rel="stylesheet"/>
    <link href="css/dashboard.css" rel="stylesheet"/>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/holder.js"></script>
    <script src="lib/vue.js"></script>
    <script src="lib/axios.js"></script>
    <style>
        .v-enter,
        .v-leave-to{
            opacity: 0;
            transform: translateY(100%);
         }
        .v-enter-active,
        .v-leave-active{
            transition:all 0.5s ease;
        }
        /*.component-fade-enter-active, .component-fade-leave-active {*/
            /*transition: opacity .3s ease;*/
        /*}*/
        /*.component-fade-enter, .component-fade-leave-to*/
            /*!* .component-fade-leave-active for below version 2.1.8 *! {*/
            /*opacity: 0;*/
        /*}*/
    </style>
</head>
<body>
<div id="app">
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="javascript:void(0)" class="navbar-brand">admin</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="javascript:void(0)">Dashboard</a></li>
                    <li><a href="javascript:void(0)">Settings</a></li>
                    <li><a href="javascript:void(0)">Profile</a></li>
                    <li><a href="javascript:void(0)">Help</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-3 col-md-2 sidebar">
                <ul class="nav nav-sidebar">
                    <li :class="{'active':active[0]}"><a href="" @click.prevent="changeCom('listDishes',0)">菜品列表</a></li>
                    <li :class="{'active':active[1]}"><a href="" @click.prevent="changeCom('addDishes',1)">添加菜品</a></li>
                    <li :class="{'active':active[2]}"><a href="" @click.prevent="changeCom('selectDishes',2)">查询菜品</a></li>
                </ul>

                <ul class="nav nav-sidebar">
                    <li :class="{'active':active[3]}"><a href="" @click.prevent="changeCom('TypeList',3),getTypeList()">类别列表</a></li>
                    <li :class="{'active':active[4]}"><a href="" @click.prevent="changeCom('addType',4)">添加类别</a></li>
                </ul>

            </div>
            <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
                <transition  mode="out-in">
                    <component :is="comName" v-bind:typelist="typeList" ></component>
                </transition>
            </div>
        </div>
    </div>

</div> <!--app-->

<!--菜品列表-->
<template id="listDishes">
    <div>
        <h2 class="sub-header">菜品列表</h2>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>序号</th>
                    <th>菜品id</th>
                    <th>菜品名</th>
                    <th>价格</th>
                    <th>数量</th>
                    <th>图片</th>
                    <th>类型</th>
                    <th>详情</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>05bf2c39-3200-4bad-b037-158c211b42d0</td>
                    <td>四喜丸子</td>
                    <td>10</td>
                    <td>99</td>
                    <td>yyyy</td>
                    <td>肉类</td>
                    <td>真的好吃</td>
                    <td>
                        <button class="btn btn-default">修改</button>
                        <button class="btn btn-default" >删除</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</template>
<!--添加菜品-->
<template id="addDishes">
    <div class="row">
        <div class="col-md-6">
            <h2 class="sub-header">添加菜品</h2>
            <form>
                <div class="form-group">
                    <label for="goodsName">菜品名</label>
                    <input type="text" class="form-control" id="goodsName" placeholder="菜品名">
                </div>
                <div class="form-group">
                    <label for="goodsPrice">价格</label>
                    <input type="text" class="form-control" id="goodsPrice" placeholder="价格">
                </div>
                <div class="form-group">
                    <label for="goodsTotal">数量</label>
                    <input type="text" class="form-control" id="goodsTotal" placeholder="数量">
                </div>
                <div class="form-group">
                    <label>类别</label>
                    <select class="form-control">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exampleInputFile">图片</label>
                    <input type="file" id="exampleInputFile">
                </div>
                <div class="form-group">
                    <label for="goodsDetails">详情</label>
                    <textarea type="text" class="form-control" id="goodsDetails" placeholder="详情"></textarea>
                </div>
                <button type="submit" class="btn btn-default">添加</button>
            </form>
        </div>
        </div>
    </div>
</template>
<!--查询菜品-->
<template id="selectDishes">
    <div>
        <h2 class="sub-header">查询菜品</h2>
        <form class="form-inline">
            <div class="form-group">
                <label for="selectGoodsName">菜品名</label>
                <input type="text" class="form-control" id="selectGoodsName" placeholder="菜品名">
            </div>
            <div class="form-group">
                <label >价格</label>
                <input type="text" class="form-control">~<input type="text" class="form-control">
            </div>
            <div class="form-group">
                <label>类别</label>
                <select class="form-control">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </form>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>序号</th>
                    <th>菜品id</th>
                    <th>菜品名</th>
                    <th>价格</th>
                    <th>数量</th>
                    <th>图片</th>
                    <th>类型</th>
                    <th>详情</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>05bf2c39-3200-4bad-b037-158c211b42d0</td>
                    <td>四喜丸子</td>
                    <td>10</td>
                    <td>99</td>
                    <td>yyyy</td>
                    <td>肉类</td>
                    <td>真的好吃</td>
                    <td>
                        <button class="btn btn-default">修改</button>
                        <button class="btn btn-default" >删除</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</template>
<!--类别列表-->
<template id="TypeList">
    <div>
        <h2 class="sub-header">类别列表</h2>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>序号</th>
                    <th>类别id</th>
                    <th>类别名</th>
                    <th>菜品数量</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="(type,index) in typelist">
                    <td>{{index}}</td>
                    <td>{{type.typeId}}</td>
                    <td>{{type.typeName}}</td>
                    <td>{{type.goodsNumber}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</template>
<!--添加类别-->
<template id="addType">
    <div class="row">
        <div class="col-md-6">
            <h2 class="sub-header">添加类别</h2>
            <form>
                <div class="form-group">
                    <label for="typeName">类别名</label>
                    <input type="text" class="form-control" id="typeName" placeholder="类别名">
                </div>
                <button type="submit" class="btn btn-default">添加</button>
            </form>
        </div>
    </div>
    </div>
</template>



    <script>
        //菜品列表
        Vue.component("listDishes",{template:"#listDishes"});
        //添加菜品
        Vue.component("addDishes",{template:"#addDishes"});
        //查询菜品
        Vue.component("selectDishes",{template:"#selectDishes"});
        //添加类别
        Vue.component("addType",{template:"#addType"});
        //类别列表
        Vue.component("TypeList",{
            template:"#TypeList",
            props:['typelist']
        });

        var vm = new Vue({
            el:"#app",
            data:{
                comName:"listDishes",
                active:[true,false,false,false,false],
                typeList:null
            },
            methods:{
                changeCom(name,flag){
                    this.comName = name;
                    var i = 0;
                    for (i = 0;i < this.active.length;i++) {
                        if(i == flag){
                            this.active[i] = true;
                        }
                        else{
                            this.active[i] = false;
                        }
                    }
                },
                getTypeList(){
                    var vm = this;
                    axios.post("http://localhost:8080/dcsystem/typeList")
                        .then(function (res) {
                            vm.typeList = res.data;
                        }).catch(function (res) {
                        alert(res+"错误");
                    })
                }

            }
        });
    </script>

</body>
</html>
